<ion-header>
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-menu-button color="light"></ion-menu-button>
    </ion-buttons>
    <ion-title>Merchandise</ion-title>
    <ion-buttons slot="end">
      <ion-button size="small" shape="round" color="medium" (click)="notifications()">
        <ion-icon name="cart"></ion-icon>
        <ion-badge color="dark" slot="end" *ngIf="cart.length > 0">{{ cart.length }}</ion-badge>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
    <div *ngIf="products == undefined || products.length === 0 " class="spinner">
      <ion-spinner name="lines"></ion-spinner>
    </div>
  <ion-list  *ngFor="let p of products">
    <ion-item>
     <ion-avatar slot="start">
            <img [src]="'https://hq.meeracle.com.my/storage/' + p.image">
          </ion-avatar>
          <ion-label>
            <h2>{{ p.name }}</h2>
            <p>Retail Price - RM{{ p.price }}</p>
             <p *ngIf="user && user.active && p.role_price.price">
                Your Price - RM{{ p.role_price.price }}</p>
          </ion-label>
          </ion-item>
           <ion-item>
            <ion-label></ion-label>
            <ion-label></ion-label>
            <ion-label>
              <ion-button [disabled]="!p.role_price.price || p.role_price.price === 0" (click)="addToCart(p)">
                <ion-icon slot="start" name="add"></ion-icon>
                Add Cart
              </ion-button>
            </ion-label>
          </ion-item>
  </ion-list>
</ion-content>